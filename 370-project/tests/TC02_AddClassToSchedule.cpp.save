nano /Users/rochanehurst/CS370-Team3/370-project/tests/TC02_AddClassToSchedule.cpp
lude <QtTest/QtTest>
#include "../mainwindow.h"
#include "../class_info_unit.h"

class TC02_AddClassToSchedule : public QObject {
    Q_OBJECT

private slots:
    void test_addClass();
};

void TC02_AddClassToSchedule::test_addClass() {
    MainWindow window(nullptr);

    // Get the current state BEFORE adding
    QVector<ClassInfo> initialSchedule = window.getCurrentScheduleData();
    int initialSize = initialSchedule.size();

    // Create a test class
    ClassInfo testClass;
    testClass.name = "CS311";
    testClass.days = "MWF";
    testClass.startTime = "09:00";
    testClass.endTime = "09:50";
    testClass.building = "SCI2";

    // Add class to the schedule
    window.createClassFrame(testClass);

    // Get the state AFTER adding
    QVector<ClassInfo> updatedSchedule = window.getCurrentScheduleData();

    // Verify exactly one new class was added
    QCOMPARE(updatedSchedule.size(), initialSize + 1);

    // Verify last class is the one we added
    const ClassInfo& added = updatedSchedule.last();
    QCOMPARE(added.name, QString("CS311"));
    QCOMPARE(added.days, QString("MWF"));
    QCOMPARE(added.startTime, QString("09:00"));
    QCOMPARE(added.endTime, QString("09:50"));
    QCOMPARE(added.building, QString("SCI2"));
}

QTEST_MAIN(TC02_AddClassToSchedule)
#include "TC02_AddClassToSchedule.moc"
